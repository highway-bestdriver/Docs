<!-- Template for PROJECT REPORT of CapstoneDesign 2025-2H, initially written by khyoo -->
<!-- 본 파일은 2025년도 컴공 졸업프로젝트의 <1차보고서> 작성을 위한 기본 양식입니다. -->
<!-- 아래에 "*"..."*" 표시는 italic체로 출력하기 위해서 사용한 것입니다. -->
<!-- "내용"에 해당하는 부분을 지우고, 여러분 과제의 내용을 작성해 주세요. -->

# Team-Info
| (1) 과제명 | 프로그래밍 지식이 없는 AI 학습자들을 위한 블록 UI 기반 CNN 딥러닝 모델 제작 플랫폼
|:---  |---  |
| (2) 팀 번호 / 팀 이름 | 14-고속도로위 |
| (3) 팀 구성원 | 김지우 (2171009): 리더, AI/BE <br> 최지원 (2276335): 팀원, FE <br> 황재령 (2171055) : 팀원, AI/BE			 |
| (4) 팀 지도교수 | 심재형 교수님 |
| (5) 과제 분류 | 산학과제 |
| (6) 과제 키워드 | AI 모델제작, 블록 neural network layer, 자동 코드 생성  |
| (7) 과제 내용 요약 | 프로그래밍 지식이 없는 AI 학습자들도 쉽게 CNN 모델을 설계하고 학습할 수 있도록 돕는 블록 UI 기반 딥러닝 플랫폼이다. <br>사용자는 TensorFlow나 PyTorch 코드를 작성하지 않고도, 블록을 드래그 앤 드롭하여 Conv2D, Pooling, Dense 같은 레이어를 조합해 CNN 모델을 설계할 수 있다. 설계된 블록 모델은 내부적으로 JSON으로 변환되며, 이를 GPT API에 전달해 실행 가능한 Keras 코드로 자동 생성한다. 생성된 코드는 GPU 환경에서 학습되며, 학습 로그와 결과는 실시간으로 시각화되어 사용자에게 제공된다. 학습이 완료되면, 모델 구조와 결과 데이터를 다시 GPT에 전달해 모델 개선 피드백을 받을 수 있다. 이 과정을 통해 사용자는 코드 작성 없이 딥러닝 모델을 직접 설계·학습·분석할 수 있고, AI의 피드백을 받아 반복적으로 성능을 개선할 수 있다. 이를 통해 코딩에 어려움을 겪는 딥러닝 입문자와 비전공자에게 직관적이고 실습 중심의 학습 환경을 제공하는 효과를 기대할 수 있다. |

<br>

# Project-Summary
| 항목 | 내용 |
|:---  |---  |
| (1) 문제 정의 | <br><b>Target Customer</b> <br> - AI 이론을 학습했으나 코드를 작성하는데 미숙하여 AI 모델 설계에 어려움을 겪는 사람 <br> - AI 모델 구조를 직관적인 블록 형태로 확인하며 모델 설계 방식을 학습하고 싶은 사람 <br><br>**Pain Points**<br> - 딥러닝 모델 설계에는 높은 수준의 프로그래밍 지식 필요 <br> - 프로그래밍 비전공자 혹은 초보자에게는 코드 기반 모델 제작 및 학습 과정이 AI에 대한 높은 진입 장벽으로 작용함 <br> - AI 이론을 학습하면서도 모델의 전체 구조가 이해되지 않는 이상 학습 효율성이 떨어지고, 직관적으로 모델을 이해하기 위해서는 시각화된 요소가 필요함<br><br> |
| (2) 기존연구와의 비교 | <br>**유사 서비스**<br>1. Google Teachable Machine<br>- 사용자가 데이터를 라벨링하여 입력하면 코드를 입력하지 않고도 자동으로 학습된 모델을 제공함<br>- 한계점: 모델을 직접 설계하거나, layer를 조합해 구성하는 기능은 없음<br>2. Microsoft Lobe<br>- 이미지 분류 모델을 코드를 작성하지 않고 만들 수 있으며, 시각적인 라벨링 및 학습 과정을 제공.<br>- 한계점: 모델의 세부적인 구조 설계 불가능.<br>3. Orange Data Mining, Tableau<br>- 블록 형태로 데이터 전처리, 분석, 시각화를 할 수 있는 노코드 시각화 툴<br>- 한계점: 딥러닝 layer를 쌓아 모델을 직접 구성하는 기능은 없음<br>4. KNIME, RapidMiner<br>- 데이터 분석, 머신러닝 기능을 제공하며 블록 기반 시각적 UI 지원<br>- 한계점: AI 모델 학습 파이프라인은 구성할 수 있으나, CNN 모델이 아닌 머신러닝 모델 위주이기 때문에 CNN layer 단위의 모델 구조 설계 기능은 없음. <br><br>**본 서비스와의 차별점**<br>1. 모델 설계 방식: 사용자가 직접 Conv, Pooling, Dense와 같은 딥러닝 레이어를 블록처럼 조립하여 모델 구조를 직관적으로 설계할 수 있음<br>2. GPT 기반 코드 자동 생성: 사용자가 설계한 블록 구조를 기반으로 GPT에 전달하여, 실행 가능한 tensorflow 코드를 자동으로 생성<br>3. AI 피드백: 학습이 완료된 후 모델 구조 및 성능을 GPT에 다시 전달하여, 해당 모델의 개선 피드백 제공<br>4. 비전공자/코딩 초보 타겟: 프로그래밍에 익숙하지 않은 AI 학습자, 비전공 입문자 등을 위해 딥러닝 진입 장벽을 낮추어 설계됨 <br><br>**결론**<br>- 기존 서비스들은 대부분 데이터 분석이나 머신러닝 파이프라인 시각화에 초점을 맞추고 있으며, 딥러닝 모델 제작 기능이 있는 경우에도 주로 사용자 데이터를 기반으로 모델이 자동 생성되는 형태에 그친다. 반면, 본 서비스는 사용자가 직접 딥러닝 레이어를 블록 형태로 조립하여 모델을 설계함으로써, 딥러닝 구조에 대한 직관적인 이해를 돕고 각 레이어의 역할을 깊이 있게 학습할 수 있도록 설계되었다. 또한, 설계된 모델을 GPT를 통해 하드코딩 없이 학습 가능한 코드로 자동 변환하므로, 더 유연하고 실용적인 딥러닝 교육 플랫픔으로서 기존 서비스 대비 높은 차별성과 교육적 가치를 지닌다.<br><br>|
| (3) 제안 내용 | <br>본 프로젝트는 프로그래밍에 익숙하지 않은 AI 학습자들을 위해 딥러닝 모델을 직관적으로 설계하고 학습할 수 있는 블록 기반 CNN 모델 제작 플랫폼을 제안한다. 사용자는 Conv, Pooling, Dense 등의 레이어를 직접 조립하여 모델을 설계할 수 있으며, 내부적으로는 해당 구조가 JSON 데이터 형태로 변환된다. 이 JSON 데이터는 GPT API를 통해 tensorflow 코드로 자동 변환되며, 생성된 코드는 서버의 GPT 환경에서 직접 학습된다. 학습 로그는 실시간 시각화되며 학습 완료 후에는 모델 구조 및 성능 데이터를 바탕으로 GPT가 개선 피드백을 제공함으로써, 사용자는 이를 통해 딥러닝 구조와 동작 원리를 효과적으로 학습할 수 있다.<br><br> |
| (4) 기대효과 및 의의 | <br>본 서비스는 코딩에 대한 진입 장벽을 낮춘 딥러닝 교육 플랫폼을 제공하여 비전공자 및 AI 입문자가 딥러닝 모델 설계 및 학습 과정을 쉽게 체험할 수 있도록 한다. 사용자는 직접 모델을 구성하고 학습 결과를 시각적으로 확인하며, LLM(AI)으로부터 모델 개선 및 분석 피드백까지 받을 수 있어 이론과 실습이 통합된 학습을 할 수 있다. 이를 통해 인공지능 교육의 접근성과 효율성을 동시에 향상시키고, 더 많은 사람들이 AI에 대해 쉽고 깊이 있게 이해할 수 있는 기회를 제공한다.<br><br> |
| (5) 주요 기능 리스트 | <br>**1. 블록 기반 모델 설계 UI**<br>- 사용자는 웹 화면에서 CNN 모델의 구성 요소(Conv, Pooling, Flatten, Dense 등)를 블록 형태로 선택하여 드래그 앤 드롭으로 설계할 수 있다. 블록 간 연결을 통해 모델의 구조를 정의하며, 각 블록은 설정 창을 통해 필터 수, 커널 크기, 활성화 함수 등 하이퍼파라미터를 설정할 수 있다.<br>- Customer View: 프로그래밍 지식이 없는 사용자도 블록 조립만으로 직관적으로 모델을 설계할 수 있으며, 레이어 간 연결 구조를 시각적으로 이해하고 학습할 수 있다.<br><br>**2. 블록 구조 → JSON 변환**<br>- 사용자가 UI 상에서 설계한 모델 구조를 내부적으로 일관된 JSON 포맷으로 변환하는 기능. 각 블록(레이어)은 해당 타입과 필요한 파라미터 정보를 포함한 딕셔너리 형태로 변환되며, 전체 모델은 리스트 형태로 저장된다.<br>ex) 예시 JSON 구조<br> 
```json
{
  "model_name": "MyCNNModel",
  "dataset_name": "MNIST",
  "layers": [
    {
      "type": "Conv2D",
      "filters": 32,
      "kernel_size": 3,
      "activation": "relu"
    },
    {
      "type": "MaxPooling2D",
      "pool_size": 2
    },
    {
      "type": "Dense",
      "units": 128,
      "activation": "relu"
    }
  ],
  "preprocessing": {
    "resize": [224, 224],
    "normalize": true,
    "augmentation": false
  },
  "hyperparameters": {
    "epochs": 15,
    "batch_size": 32,
    "learning_rate": 0.001
  }
}
```
<br><br>**3. JSON → 코드 자동 생성**<br>- JSON으로 표현된 모델 구조를 OpenAI GPT API에 전달하여, 해당 모델 구조에 맞는 학습 가능한 tensorflow 코드로 자동 변환하는 기능. GPT는 JSON 구조를 기반으로 레이어 순서, 파라미터 설정,  모델 클래스 정의, 필요한 함수 등을 자동으로 작성하여 반환한다. <br>ex) <br><GPT 프롬프트 예시><br>아래 JSON 구조에 맞게 실행 가능한 tensorflow 코드를 작성해주세요. 만약 구조적 오류가 있다면 오류 메세지를 반환하여주세요.<br>{<br>"model_name": <br>"MyCNN",<br>"dataset_name": "MNIST",<br>"layers": [...],<br>"preprocessing": […],<br> "hyperparameters: […],<br>}<br><응답 예시> - 실행 가능한 tensorflow 코드 or python 파일<br>import tensorflow as tf<br>from tensorflow.keras.layers import Input, Conv2D, AveragePooling2D, Flatten, Dense, ReLU<br>from tensorflow.keras.models import Model<br>def myCNNModel():<br>….<br><br>**4. 생성된 코드 실행 및 모델 학습**<br>- GPT가 생성한 모델 코드를 서버 측에서 자동 실행하여 모델을 학습시키는 기능. 코드 실행은 컨테이너 같은 환경에서 수행되며, 학습에는 GPU가 활용된다.<br>- Customer View: 사용자는 블록 설계 → 코드 생성 → 학습까지 전 과정을 몇 번의 클릭만으로 수행 가능<br><br>**5. 학습 로그 및 결과 시각화**<br>- 학습 도중 또는 완료 후 손실 함수 변화,  accuracy, confusion matrix 등의 로그 및 성능 지표를 시각화하여 사용자에게 실시간 또는 결과 형태로 제공한다.<br>- 시각화 항목: Epoch별 Accuracy / Loss 그래프, Confusion Matrix, 모델 구조 요약<br>- Customer View: 자신이 만든 모델의 학습 결과를 그래프와 같은 시각적 요소 확인하며, AI 모델 동작 원리, 레이어 별 역할, 하이퍼파라미터의 영향 등에 대한 이해를 높인다.<br><br>**6. 모델 개선 피드백**<br>- 학습이 완료된 후, 모델 구조 및 성능 결과를 GPT에게 다시 전달하여 모델 개선 방향, 추천 레이어, 하이퍼파라미터 조정 등의 최종적인 피드백을 자동으로 받는 기능. <br>- Customer View: 단순한 실행 결과만 확인할 수 있는 것을 넘어, AI로부터 사용자에게 모델 개선 방향을 제시 받아 심도 있는 학습이 가능하다.<br>ex)<br><GPT 프롬프트 예시><br>이 모델의 accuracy는 0.54, loss은 0.39입니다. 다음은 모델 구조입니다. 어떻게 개선하면 좋을까요?<br>- Conv2D → MaxPooling → Flatten → Dense(128) → Dense(10)<br><GPT 응답 피드백 예시><br>- “Dropout 레이어를 추가해 과적합을 방지해보세요.”<br>- “Conv2D 레이어 수를 늘려보세요.”<br>- “배치 정규화를 적용하면 학습 속도가 개선될 수 있습니다.”<br><br> |

<br>

# Project-Design & Implementation
| 항목 | 내용 |
|:---  |---  |
| (1) 요구사항 정의 | **[설계 모델]** <br>- 블록 기반 모델 설계 UI: 드래그 앤 드롭 기반 레이어 구성 UI, 각 블록별 하이퍼파라미터 설정 기능 포함 (ex. Conv2D 필터 수 설정)<br>- 모델 구조 → JSON 변환 : UI에서 정의된 모델을 JSON으로 변환 및 저장<br>- 코드 실행 및 학습 :  컨테이너 기반 실행 환경에서 생성된 코드 자동 실행 및 학습<br>- 학습 결과 시각화 : Accuracy, Loss 등 시각화<br>- 모델 개선 피드백 : 학습 결과를 바탕으로 GPT 기반 자동 피드백 제공<br><br> **[UI 분석/설계 모델]** <br>- 블록 디자인 에디터 화면<br>- 코드 미리보기<br>- 학습 상태 및 결과 시각화 패널<br>- 모델 피드백 패널<br><br> **[DB 설계 모델]** <br>- 모델 저장 테이블: 모델 이름, JSON 구조, 생성일, 사용 데이터셋 등<br>- 학습 기록 테이블: accuracy, loss, epoch 별 기록, 학습 완료 여부, 수정 여부 등 |
| (2) 전체 시스템 구성 | <img width="400" src="https://github.com/user-attachments/assets/ab168e70-0a26-41a9-9547-159546f8b80c"/><br> **1. FE:** 사용자 인터페이스 제공, 블록 기반 모델 설계, 로그인, 모델 학습 요청, 결과 시각화<br> * 레이어 블록 드래그 앤 드롭 UI, 파라미터 입력<br> * 모델 설계 JSON 생성<br><br>**2. BE:** 사용자 인증 처리, 모델 <br>JSON 저장, GPT API 연동, 코드 실행, DB 관리<br> * 인증/사용자 관리 (JWT, Google OAuth)<br> * 모델 설계 JSON 저장<br> * GPT 호출(openai) - 코드 자동 생성, 모델 성능 분석 및 피드백<br> * 모델 학습 실행<br> * 학습 결과 시각화 & 피드백<br><br>**3. GPT API:** 모델 구조(JSON) 기반 tensorflow 코드 자동 생성, 학습 완료 후 개선 피드백 생성<br> * 모델 JSON 구조 → tensorflow 코드 생성<br><br>**4. GPU 학습 서버:** 생성된 코드를 실행하고, 학습 과정을 진행하며 로그 수집<br> * 생성된 tensorflow 코드 실행 및 학습<br> * 학습 중 로그 데이터 저장<br><br>**5. DB (MySQL):** 사용자 정보, 모델 구조, 학습 결과, 피드백 등의 모든 데이터 저장 및 조회 처리<br> * 사용자 정보<br> * 모델 구조/설계 정보<br> * 변환된 tensorflow 코드<br> * 학습 성능<br> * GPT 피드백<br><br> **<외부 모듈 및 오픈소스>**- React.js: 블록 기반 UI, 인터랙션<br>- FastAPI: 백엔드 서버 구현<br>- SQLAlchemy: 데이터베이스 ORM 관리<br>- Alembic: DB 마이그레이션<br>- OpenAI GPT API: 코드 자동 생성, 모델 피드백 생성<br>- Tensorflow: 모델 학습 및 실행 프레임워크<br>- JWT, OAuth2: 사용자 인증 및 권한 관리<br>- matplotlib/seaborn: 학습 결과 시각화 |
| (3) 주요엔진 및 기능 설계<br> | - 블록 모델 설계 엔진 :Docker 기반 코드 실행 서버<br>- JSON 변환 엔진: 블록 구조를 순회하며 JSON 스펙에 맞춰 직렬화 수행<br>- GPU 프롬프트 엔진: JSON 구조를 GPT에 적합한 형태로 가공, 오류 핸들링 포함<br>- 코드 실행 엔진: 생성된 코드 파일을 Docker 컨테이너 내에서 실행, GPU 사용 지원<br>- 시각화 엔진: epoch 별 accuracy, loss  등 시각화, 학습 완료 후 즉시 제공<br>- 피드백 생성기: 학습 결과와 모델 구조를 기반으로 GPT에 피드백 요청. 구조 개선 팁 또는 하이퍼 파라미터 추천 제공 |
| (4) 주요 기능의 구현 | **1) 블록 UI + JSON 변환**<br>- 사용자가 브라우저 기반 블록 에디터에서 CNN의 각 레이어(Conv, Pooling, Dense 등)를 드래그 앤 드롭으로 추가하고, 각 블록을 연결하여 전체 모델의 흐름을 시각적으로 설계<br>- 블록이 추가되면, 내부적으로 각 노드의 id, 타입, 파라미터(ex. 필터 수, 커널 사이즈, 활성화 함수 등)를 객체로 저장<br>- 블록 간 연결을 바탕으로 입력 → 출력 순서를 분석하고, 이를 계층적으로 정렬하여 JSON 포맷으로 변환<br>* JSON 구조는 사용자가 저장하거나, GPT API 요청을 위한 기본 입력값으로 사용됨<br><br>**2) JSON → GPT 코드 생성 및 실행**<br>- 백엔드는 JSON 구조를 GPT API에 전달하기 위해 사전 정의된 프롬프트 구조로 가공<br>```json<br>아래 JSON 구조에 맞게 실행 가능한 tensorflow 코드를 작성해주세요. 구조적 오류가 있다면 오류 메시지를 반환해주세요.<br>{ ... JSON 구조 ... }<br>- GPT는 JSON을 기반으로 Tensorflow에 맞는 모델 클래스, 레이어 정의, 전처리, 학습 루프 등을 포함한 전체 Python 코드를 반환<br>- 백엔드에서 이 코드를 임시 Python 파일로 저장하고, docker 컨테이너 내부에서 실행<br>- 컨테이너는 GPU가 장착된 환경에서 tensorflow가 설치된 이미지로 구성<br>- 실행 시 stdout과 stderr 로그를 파일로 수집하고, epoch별 학습 결과(accuracy, loss)를 JSON 파일로 추출<br>- 이 결과는 학습 시각화 엔진으로 전달되어 사용자에게 즉시 그래프로 제공됨 |
| (5) 기타 | **1) 확장성 고려** <br>- 추후 LSTM, Transformer 등 다양한 모델 블록 추가 기능<br>- 사용자 정의 레이어 지원 고려<br>- 학습 외 평가 기능 (예를 들어, 테스트 이미지 예측 기능) 추가 가능<br><br>**2) 보안 및 안정성** <br>- GPT API 오류 및 학습 실패 대비 재시도 로직 구현<br>- 사용자별 작업 세션 분리, 코드 실행 샌드박스 환경 적용  |

<br>
